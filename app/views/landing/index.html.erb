<%= render_taskbar_items([
    { image_path: 'task-bar/flag.svg', alt_text: "CTF Icon", label: "CTF", link: ctf_path },
]) %>
<%= render_terminal(['ctf'], true) %>
<% posts_link = "/posts-timeline" %>
<% kit_link = "https://www.kit.edu" %>
<% kitctf_link = "https://kitctf.de" %>

<section id="landing-top" class="h-screen w-full flex flex-col items-center justify-center text-center relative">
    <h1 class="text-5xl md:text-6xl lg:text-7xl font-extrabold mb-4 text-white">Welcome to my flag collection</h1>
    <h2 class="text-2xl md:text-3xl text-gray-300 mb-6">CTF writeups & more</h2>

    <div class="text-2xl md:text-3xl text-gray-200">
      <span id="typing" class="font-medium inline-block min-h-[1.5rem]"></span>
    </div>

    <div class="info-cards-container mt-10 flex space-x-6">
        <div class="writeup-card bg-primary">
            <a href="<%= posts_link %>">
                <div class="profile-card">
                    <%= image_tag("landing/profile.png", alt: "profile", class: "rounded-3xl") %>
                    <h3 class="text-xl font-bold mt-4 text-white">Adrian aka vurlo</h3>

                    <div class="mt-2 flex items-center justify-center gap-10">
                        <div class="flex flex-col items-center">
                            <p class="text-white mt-2 text-lg font-semibold"><%= @amount_posts %></p>
                            <p class="text-white">Posts</p>
                        </div>

                        <div class="flex flex-col items-center">
                            <p class="text-white mt-2 text-lg font-semibold"><%= @amount_tags %></p>
                            <p class="text-white">Tags</p>
                        </div>
                    </div>
                </div>
            </a>
        </div>

        <div class="writeup-card bg-primary">
            <a href="<%= kitctf_link %>" target="_blank" rel="noopener noreferrer">
                <div class="ctfteam-card">
                    <%= image_tag("landing/kitctf.png", alt: "ctf logo", class: "rounded-3xl") %>
                    <h3 class="text-xl font-bold mt-4 text-white">KITCTF</h3>
                    <div class="mt-2 flex flex-col items-center">
                        <p class="text-white mt-2 text-lg font-semibold">Enjoying CTFs with KITCTF</p>
                    </div>
                </div>
            </a>
        </div>

        <div class="writeup-card bg-primary">
            <a href="<%= kit_link %>" target="_blank" rel="noopener noreferrer">
                <div class="university-card">
                    <%= image_tag("landing/kit.png", alt: "university logo", class: "rounded-3xl") %>
                    <h3 class="text-xl font-bold mt-4 text-white">KIT</h3>
                    <div class="mt-2 flex flex-col items-center">
                        <p class="text-white mt-2 text-lg font-semibold">Master's student of Computer Science</p>
                    </div>
                </div>
            </a>
        </div>

    </div>

    <div class="absolute bottom-8">
        <button
            type="button"
            class="back-button rounded-full w-12 h-12 flex items-center justify-center hover:bg-secondary transition-colors"
            aria-label="Scroll down"
            onclick="document.getElementById('landing-bottom').scrollIntoView({behavior:'smooth'})"
        >
            <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 5v14M19 12l-7 7-7-7"/>
            </svg>
        </button>
    </div>
</section>

<section id="landing-bottom" class="min-h-screen w-full px-8 py-12" >
    <h2 class="text-3xl font-bold mb-6 text-white text-center">Most recent published</h2>

    <div class="landing-writeup-cards">
        <% @most_recent_ctfs.each do |info| %>
            <% which = info["ctf"].downcase %>
            <% writeup = info["title"] %>
            <% writeup_path = "/ctf/#{which}/#{writeup}" %>
            <div class="writeup-card bg-primary">
            <%= render_writeup_card(writeup, writeup_path, which, info) %>
            </div>
        <% end %>
    </div>

</section>
